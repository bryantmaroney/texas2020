jQuery(function(t){answers={};let e=!0;function s(e,s){t.ajax({url:site_url+"user/vote",type:"POST",data:{answer:s,question:e},success:function(t){}})}function n(e,s,n,i,r){google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(function(){var a=google.visualization.arrayToDataTable([["Task","Hours per Day"],[e,s],["",n]]),d="";d=t(window).width()>780?"#002A5B":"#1A2E5A";var o={pieHole:.8,legend:"none",pieStartAngle:270,pieSliceText:"none",pieSliceBorderColor:r,backgroundColor:d,width:"33%",height:150,slices:{0:{color:r},1:{color:d}}};new google.visualization.PieChart(document.getElementById(i)).draw(a,o)})}function i(e){var s=0,i=0,r=0;for(let t in e)e[t].includes("disagree")?i++:e[t].includes("agree")?s++:e[t].includes("skip")&&r++;console.log(s,i,r),n("AGREE",s,10-s,"deskDonutchartAgree","#2CA107"),n("DISAGREE",i,10-i,"deskDonutchartDisAgree","#C30100"),n("SKIPPED",r,10-r,"deskDonutchartSkipped","#AAAAAA"),t(".donutchartAgreeNumber").html(s),t(".donutchartDisAgreeNumber").html(i),t(".donutchartSkippedNumber").html(r)}function r(e){var s=0,i=0,r=0;for(let t in e)e[t].includes("disagree")?i++:e[t].includes("agree")?s++:e[t].includes("skip")&&r++;t(".stCont").find(".charts").remove(),t("#carusel-desktop").append(`\n\t    \t<div class="chartsMobile">\n\t\t\t\t<div class="resultCharts">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div id="deskDonutchartAgree">\n\t               \n\t           \t\t\t</div>\n\t           \t\t\t<div class="donutchartAgreeNumber" style="color: #2CA107">${s}</div>\n\t           \t\t\t<div>\n\t           \t\t\t\t<div class="agree row agreeClick" data-value="agree">\n\t\t\t\t\t\t\t\t<img src="${site_url}assets/images/agree.png" alt="">&nbsp;\n\t\t\t\t\t\t\t\tAGREE\n\t\t\t\t\t\t\t\t<img style="display: none" class="selectedAnswerImage" src="${site_url}assets/images/selAns.png" alt="">\n\t\t\t\t\t\t\t</div>\n\t           \t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div id="deskDonutchartDisAgree">\n\t               \n\t           \t\t\t</div>\n\t           \t\t\t<div class="donutchartDisAgreeNumber" style="color: #C30100">${i}</div>\n\t           \t\t\t<div>\n\t           \t\t\t\t<div class="disagree row disagreeClick" data-value="disagree">\n\t\t\t\t\t\t\t\t<img src="${site_url}assets/images/disagree.png" alt="">&nbsp;\n\t\t\t\t\t\t\t\tDISAGREE\n\t\t\t\t\t\t\t\t<img style="display: none" class="selectedAnswerImage" src="${site_url}assets/images/selAns.png">\n\t\t\t\t\t\t\t</div>\n\t           \t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div id="deskDonutchartSkipped">\n\t               \n\t           \t\t\t</div>\n\t           \t\t\t<div class="donutchartSkippedNumber" style="color: #AAAAAA">${r}</div>\n\t           \t\t\t<div>\n\t           \t\t\t\t<div class="skip row skipClick" data-value="skip" data-name="end_gerry">\n\t\t\t\t\t\t\t\t<img src="${site_url}assets/images/skip.png" alt="">&nbsp;\n\t\t\t\t\t\t\t\tSKIP\n\t\t\t\t\t\t\t\t<img style="display: none" class="selectedAnswerImage" src="${site_url}assets/images/selAns.png">\n\t\t\t\t\t\t\t</div>\n\t           \t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`),n("AGREE",s,10-s,"deskDonutchartAgree","#2CA107"),n("DISAGREE",i,10-i,"deskDonutchartDisAgree","#C30100"),n("SKIPPED",r,10-r,"deskDonutchartSkipped","#AAAAAA")}t(document).on("click",".desktopAgree",function(n){t(this).addClass("mobileAgreeHover"),t(this).parents(".deskVoteButtons").find(".desktopDisagree").removeClass("mobileDisAgreeHover selectedAnswer"),t(this).parents(".item").find(".deskShareSkip").find(".desktopSkip").removeClass("desktopSkipHover selectedAnswer"),t(this).addClass("selectedAnswer"),answers[t(this).data("name")+"_answer"]="agree",console.log(answers),console.log(Object.keys(answers).length),10==Object.keys(answers).length&&(e?(r(answers),e=!1):i(answers)),s(t(this).data("name"),"agree"),t(".arrow-right").trigger("click")}),t(document).on("click",".desktopDisagree",function(n){t(this).addClass("mobileDisAgreeHover"),t(this).parents(".deskVoteButtons").find(".desktopAgree").removeClass("mobileAgreeHover selectedAnswer"),t(this).parents(".item").find(".deskShareSkip").find(".desktopSkip").removeClass("desktopSkipHover selectedAnswer"),t(this).addClass("selectedAnswer"),answers[t(this).data("name")+"_answer"]="disagree",10==Object.keys(answers).length&&(e?(r(answers),e=!1):i(answers)),s(t(this).data("name"),"disagree"),t(".arrow-right").trigger("click")}),t(document).on("click",".desktopSkip",function(n){t(this).addClass("desktopSkipHover"),t(this).parents(".item").find(".deskVoteButtons").find(".desktopAgree").removeClass("mobileAgreeHover selectedAnswer"),t(this).parents(".item").find(".deskVoteButtons").find(".desktopDisagree").removeClass("mobileDisAgreeHover selectedAnswer"),t(this).addClass("selectedAnswer"),answers[t(this).data("name")+"_answer"]="skip",10==Object.keys(answers).length&&(e?(r(answers),e=!1):i(answers)),s(t(this).data("name"),"skip"),t(".arrow-right").trigger("click")})});